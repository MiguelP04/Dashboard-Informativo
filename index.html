<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Dashboard Informatico</title>
</head>
<body class="bg-slate-100">
<section class="flex">
    <!--Barra de navegacion-->
    <nav class="hidden" id="barra-de-navegacion"> 
        <div class="flex flex-col bg-blue-700 sticky top-0 w-40 h-screen py-5 space-y-10">
           <h2 class="text-center text-white mb-20">Dashboard Informático</h2> 
           <!--Seccion de calendario-->
           <div id="section-calender" onclick="selectCalendar()" class="flex items-center space-x-2 cursor-pointer h-14 p-5 hover:bg-blue-400">
            <svg id="icon-calender" class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16M8 14h8m-4-7V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"/>
            </svg>     
            <p id="text-calender" class="text-white">Calendario</p>   
           </div> <!--Final de seccion de calendario-->
           <!--Seccion de eventos-->
           <div class="flex items-center space-x-2 p-5">
            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 9h6m-6 3h6m-6 3h6M6.996 9h.01m-.01 3h.01m-.01 3h.01M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z"/>
              </svg>
            <p class="text-white">Eventos</p>              
           </div> <!--Final se seccion de eventos-->
        </div>
    </nav> <!--Final de la Barra de navegacion-->

    <main class="w-screen">

      <div id="username" class="flex justify-end sticky top-0">
      </div>
      <section id="calenderAministrator" class="hidden"> <!--seccion de administrador-->
        <h1 class="text-2xl text-center mt-3">Junio 2024</h1>
        <!--Calendario administrador-->
        <div class="mt-5 grid grid-cols-7 grid-rows-6 max-w-screen-md mx-auto h-80 bg-gradient-to-r from-cyan-200 to-blue-500  rounded-lg text-center justify-center items-center">
            <span class="col-start-1">Lunes</span><span>Martes</span><span>Miercoles</span><span>Jueves</span><span>Viernes</span><span>Sabado</span><span >Domingo</span>
            <span id="dia1" class="col-start-5 hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">1</span><span id="dia2" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">2</span><span id="dia3" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">3</span><span id="dia4" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">4</span><span id="dia5" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">5</span><span id="dia6" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">6</span><span id="dia7" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">7</span><span id="dia8" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">8</span><span id="dia9" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">9</span><span id="dia10" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">10</span><span id="dia11" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">11</span><span id="dia12" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">12</span><span id="dia13" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">13</span><span id="dia14" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">14</span><span id="dia15" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">15</span><span id="dia16" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">16</span><span id="dia17" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">17</span><span id="dia18" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">18</span><span id="dia19" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">19</span><span id="dia20" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">20</span><span id="dia21" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">21</span><span id="dia22" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">22</span><span id="dia23" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">23</span><span id="dia24" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">24</span><span id="dia25" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">25</span><span id="dia26" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">26</span><span id="dia27" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">27</span><span id="dia28" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">28</span><span id="dia29" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">29</span><span id="dia30" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">30</span>
        </div> <!--Final de calendario administrador-->
        <dialog id="modal" class="w-80 h-96 rounded-lg p-5"><!--Modal-->          
            <form method="dialog">
                <button class="bg-black text-white hover:bg-red-400 px-3">X</button>
                <h2 class="text-xl text-center mb-4">Evento</h2>
                <textarea id="value" class="w-full h-56 resize-none outline-none" placeholder="Escribe el Evento..."></textarea>
                <input id="submit" type="submit" class="bg-blue-400 hover:bg-blue-600 text-white font-bold py-2 px-2 rounded cursor-pointer">
            </form>
        </dialog>
      </section> <!--Final de seccion de administrador-->

      <section id="calenderStudent" class="hidden"> <!--Secccion de estudiante-->
        <h1 class="text-2xl text-center mt-3">Junio 2024</h1>
        <div class="mt-5 grid grid-cols-7 grid-rows-6 max-w-screen-md mx-auto h-80 bg-gradient-to-r from-cyan-200 to-blue-500  rounded-lg text-center justify-center items-center">
            <span class="col-start-1">Lunes</span><span>Martes</span><span>Miercoles</span><span>Jueves</span><span>Viernes</span><span>Sabado</span><span >Domingo</span>
            <span class="col-start-5 hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer" id="select1">1</span><span id="select2" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">2</span><span id="select3" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">3</span><span id="select4" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">4</span><span id="select5" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">5</span><span id="select6" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">6</span><span id="select7" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">7</span><span id="select8" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">8</span><span id="select9" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">9</span><span id="select10" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">10</span><span id="select11" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">11</span><span id="select12" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">12</span><span id="select13" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">13</span><span id="select14" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">14</span><span id="select15" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">15</span><span id="select16" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">16</span><span id="select17" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">17</span><span id="select18" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">18</span><span id="select19" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">19</span><span id="select20" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">20</span><span id="select21" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">21</span><span id="select22" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">22</span><span id="select23" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">23</span><span id="select24" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">24</span><span id="select25" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">25</span><span id="select26" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">26</span><span id="select27" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">27</span><span id="select28" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">28</span><span id="select29" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">29</span><span id="select30" class="hover:bg-sky-500 hover:rounded-lg mx-6 hover:text-white cursor-pointer">30</span>
        </div>
        <div id="showSavedEvent"> <!--Seccion donde se muestran los eventos-->

        </div>
      </section> <!--Final de seccion de estudiante-->
    </main>
</section>

    <section class="max-w-screen-lg mx-auto"> <!--Login-->
        <div id="login" class="mt-20 grid grid-cols-12">
            <div class="col-span-7 max-w-lg bg-white rounded-lg p-10">
                <h1 class="text-center text-2xl mb-7">Bienvenido</h1>
                <form class="flex flex-col space-y-10" onsubmit= "return false">
                    <div class="flex justify-around">                      
                    <label class="bg-blue-600 cursor-pointer rounded-md px-2 py-1 text-white select-none shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/70">Estudiante <input type="radio" name="userType" value="student" class="cursor-pointer"></label>
                    <label class="bg-blue-600 cursor-pointer rounded-md px-2 py-1 text-white select-none shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/70">Profesor <input type="radio" name="userType" value="teacher" class="cursor-pointer"></label>
                    <label class="bg-blue-600 cursor-pointer rounded-md px-2 py-1 text-white select-none shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/70">Administrador <input type="radio" name="userType" value="administrator" class="cursor-pointer"></label>
                    </div>
                    <input type="number" id="identityCard" placeholder="Cédula" class="p-6 border-b-2 border-gray-300 hover:border-gray-700 p-6">
                    <input type="password" id="password" placeholder="Contraseña" class="p-6 border-b-2 border-gray-300 hover:border-gray-700 p-6">
                    <input type="submit" onclick="validateDate()" class="bg-blue-400 hover:bg-blue-600 text-white font-bold py-4 px-4 rounded cursor-pointer">
                </form>
            </div>
        
             <div class="col-span-5">
                <h1 class="text-2xl text-center text-cyan-500">"Dashboard Informático"</h1>
            </div>
        </div>
   </section>

</body>
<script>

alumns = [
    {
        name: "William",
        lastname: "Pinto",
        cedula: 1,
        password: "1",
    },
    {
        name: "Miguel",
        lastname: "Petit",
        cedula: 28767977,
        password: "latuya",
    },
    {
        name: "Jhon",
        lastname: "Molina",
        cedula: 28777846,
        password: "laprimatuya",
    },
]

teacher = [
    {
        name: "Alejandro",
        lastname: "Chiquito",
        cedula: 25876876,
        password: "lenguaje1"
    },
    {
        name: "Aurimar",
        lastname: "Semejal",
        cedula: 26765876,
        password: "teoria"
    },
    {
        name: "Jesus",
        lastname: "Ysea",
        cedula: 22435645,
        password: "mate3",
    },
]

administrator = [
    {
        name: "Jose",
        lastname: "Perez",
        cedula: 2,
        password: "2",
    },
    {
        name: "Ana",
        lastname: "Garcia",
        cedula: 20987645,
        password: "admi2",
    },
]

var getAlumn;
var getTeacher;
var getAdministrator;
var userType = document.getElementsByName('userType');

function validateDate() { 
    let IdentityCard = document.getElementById('identityCard').value;
    let password = document.getElementById('password').value;
    userType = document.getElementsByName('userType');

    for(let i = 0; i < userType.length; i++) { // Definiendo que tipo de usuario escogio el usuario
        if(userType[i].checked) { // Verifica cual tipo de usuario se selecciono
            userType = userType[i].value; // Guarda el tipo de usuario seleccionado
            console.log(userType)
            break;
        }
    }

    if(userType == "student") { // Si el usuario eligio que es estudiante, entrara en este bloque de codigo
        for (let i = 0; i < alumns.length; i++) {
            if(IdentityCard == alumns[i].cedula){
                getAlumn = alumns[i];
                break;           
            }
        }
         if(getAlumn == undefined) { 
            alert("Alumno no encontrado");
        } else if (getAlumn.password != password){
            alert("Clave incorrecta");
        } else {  
            document.getElementById('login').style.display = 'none';   
            userName = document.getElementById('username');
            userName.innerHTML = `<h2>Bienvenido ${getAlumn.name} ${getAlumn.lastname}`;
            document.getElementById('barra-de-navegacion').style.display = 'block'
        }
    } 

    if(userType == "teacher") { // Si el usuario eligio que es profesor, entrara en este bloque de codigo
        for (let i = 0; i < teacher.length; i++) {
            if(IdentityCard == teacher[i].cedula){
                getTeacher = teacher[i];
                break;           
            }
        }
         if(getTeacher == undefined) {
            alert("Profesor no encontrado");
        } else if (getTeacher.password != password){
            alert("Clave incorrecta");
        } else {  
            document.getElementById('login').style.display = 'none';   
            userName = document.getElementById('username');
            userName.innerHTML = `<h2>Bienvenido ${getTeacher.name} ${getTeacher.lastname}`;
            document.getElementById('barra-de-navegacion').style.display = 'block'
        }
    } 

    if(userType == "administrator") { // Si el usuario eligio que es administrador, entrara en este bloque de codigo
        for (let i = 0; i < administrator.length; i++) {
            if(IdentityCard == administrator[i].cedula){
                getAdministrator = administrator[i];
                break;           
            }
        }
         if(getAdministrator == undefined) {
            alert("Administrador no encontrado");
        } else if (getAdministrator.password != password){
            alert("Clave incorrecta");
        } else {  
            document.getElementById('login').style.display = 'none';   
            document.getElementById('barra-de-navegacion').style.display = 'block'
            userName = document.getElementById('username');
            userName.innerHTML = `<h2>Bienvenido ${getAdministrator.name} ${getAdministrator.lastname}`;
        }
    }   
}

function selectCalendar() { // Esta funcion se ejecuta al darle click a la seccion de calendario del nav
    if(userType == "administrator") { // Si el usuario entra como administrador, entrara en esta condicional
        document.getElementById('calenderAministrator').style.display = "block"; // Muestra el calendario del administrador
        document.getElementById('section-calender').className= "bg-blue-400 flex items-center space-x-2 cursor-pointer h-14 p-5";
    } else if(userType == "student") { // Si el usuario entra como estudiante, entrara en esta condicional
        document.getElementById('calenderStudent').style.display = "block" // Muestra el calendario del administrador
        document.getElementById('section-calender').className = "bg-blue-400 flex items-center space-x-2 cursor-pointer h-14 p-5";
    }
}

for(i = 1; i < 31; i++){      
    let june = document.querySelector('#dia'+ i); // Toma los dias de junio del administrador    
    let modal = document.querySelector('#modal'); // Toma la ventana emergente
    june.addEventListener("click", ()=> { // Cuando le de click a algun dia de junio ejecuta esta funcion
        select = june.id; // Toma el dia seleccionado
        modal.showModal(); // Le da estilos al modal  
        submit = document.getElementById('submit'); // Toma el buton de enviar del modal
        submit.addEventListener("click", ()=> { // Cuando le de click al boton de enviar se ejecuta esta funcion
            value = document.getElementById('value').value // Toma lo escrito en el modal
            localStorage.setItem(select+'junio', value); // Guarda lo escrito en el local storage 
        })
    })   
}

for(i = 1; i < 31; i++){
    let dias = document.querySelector("#select" + i); // Toma los dias de junio del estudiante
    let june = document.querySelector('#dia'+ i); // Toma los dias de junio del administrador  
    dias.addEventListener("click", ()=> { // Cuando le de click a algun dia de junio ejecuta esta funcion
        select = june.id;  // Toma el dia seleccionado
        let showSavedEvent = document.getElementById('showSavedEvent'); // Toma el div donde se mostrara el evento
        showSavedEvent.innerHTML = `${localStorage.getItem(select +"junio")}` // Escribe en el div el evento guardado
        showSavedEvent.className = "bg-slate-300 w-52 h-52 text-center text-xl p-5 mt-5 ml-7 rounded-lg border-double border-4 hover:border-sky-500" // Le da estilos al div
    })
}  
</script>
</html>
 